<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Synology DS216Play å®‰è£… ShadowSocks | TinyX</title>
<meta name="keywords" content="NAS, GFW">
<meta name="description" content="æœ€è¿‘ä¸€æ®µæ—¶é—´ä¹°äº†ä¸ª NASï¼Œç”¨äº†ä¹‹åæ„Ÿè§‰ç¡®å®å¾ˆä¸é”™ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¶ç”¨çš„æœåŠ¡å™¨ï¼Œä»€ä¹ˆä¸œè¥¿éƒ½å¯ä»¥å¾€ä¸Šæ‰”ã€‚å”¯ä¸€åæ‚”çš„å°±æ˜¯ä¹°ä¾¿å®œäº†ï¼ˆæ¯•ç«Ÿç©·ï¼‰ï¼ŒDS216Play ä½¿ç”¨çš„æ˜¯ STM STiH412 çš„ 32ä½å¤„ç†å™¨ï¼Œæ—¢ç„¶æ˜¯ 32ä½ï¼Œæ‰€ä»¥ä¸€ä¸ªå¤§æ€å™¨ï¼Docker æ²¡æ³•ç”¨äº†ï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šåŸºäº Docker çš„å¼€ç®±å³ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶æ²¡æ³•ç”¨ã€‚è¿˜æœ‰å°±æ˜¯å†…ç½®çš„ VideoStation æ˜¯ä» IMDb æŠ“å–å°é¢ä¿¡æ¯ï¼Œè€Œ IMDb æ˜¯è¢«å¢™äº†çš„ã€‚äºæ˜¯å‡†å¤‡å®‰è£…ä¸ª SSï¼ˆShadowSocksï¼‰ï¼Œé¡ºä¾¿æŠŠ Dropbox é‡Œé¢å°†è¿‘ 100G æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œä¹‹å‰ä¹°çš„ SSLedge ä¸€ä¸ªæœˆæ‰ 30G æµé‡ï¼Œè¦åŒæ­¥ä¸‰ä¸ªæœˆæ‰èƒ½å®Œå…¨æŠŠ Dropbox ä¸Šé¢æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œè‡ªå»ºçš„ SS ç›´æ¥æ˜¯ 1Tï¼Œç›¸å½“åˆ’ç®—ã€‚
å®‰è£… ipkg å¼€å§‹ä¹‹å‰éœ€è¦å®‰è£… ipkg åŒ…ç®¡ç†å™¨ï¼Œè¿™æ ·åé¢å¾ˆå¤šè½¯ä»¶åŒ…å°±èƒ½ä½¿ç”¨äº†ã€‚å› ä¸ºæ²¡æœ‰æ‰¾åˆ°é€‚åˆ STiH412 å¤„ç†å™¨çš„å®‰è£…è„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹ä¸€ä¸ªç›¸ä¼¼çš„ï¼š
$ wget http://ipkg.nslu2-linux.org/feeds/optware/cs08q1armel/cross/unstable/syno-mvkw-bootstrap_1.2-7_arm.xsh $ chmod 700 syno-mvkw-bootstrap_1.2-7_arm.xsh $ sh syno-mvkw-bootstrap_1.2-7_arm.xsh è¿è¡Œä¹‹åä¼šæŠ¥é”™ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª bootstrap ç›®å½•ï¼Œè¿›å» bootstrap ç›®å½•å¹¶ä¿®æ”¹ bootstrap.sh æ–‡ä»¶
 #if ! grep Feroceon-KW /proc/cpuinfo &gt;/dev/null 2&gt;&amp;1; then # echo &#34;Error: CPU not Marvell Kirkwood, probably wrong bootstrap.">
<meta name="author" content="X">
<link rel="canonical" href="https://JesseGuoX.github.io/tinyx/post/NAS-Shadowsocks/">
<link crossorigin="anonymous" href="/tinyx/assets/css/stylesheet.min.48a18943c2fc15c38a372b8dde1f5e5dc0bc64fa6cb90f5a817d2f8c76b7f3ae.css" integrity="sha256-SKGJQ8L8FcOKNyuN3h9eXcC8ZPpsuQ9agX0vjHa3864=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/tinyx/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://JesseGuoX.github.io/tinyx/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="https://JesseGuoX.github.io/tinyx/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="https://JesseGuoX.github.io/tinyx/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="https://JesseGuoX.github.io/tinyx/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="https://JesseGuoX.github.io/tinyx/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Synology DS216Play å®‰è£… ShadowSocks" />
<meta property="og:description" content="æœ€è¿‘ä¸€æ®µæ—¶é—´ä¹°äº†ä¸ª NASï¼Œç”¨äº†ä¹‹åæ„Ÿè§‰ç¡®å®å¾ˆä¸é”™ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¶ç”¨çš„æœåŠ¡å™¨ï¼Œä»€ä¹ˆä¸œè¥¿éƒ½å¯ä»¥å¾€ä¸Šæ‰”ã€‚å”¯ä¸€åæ‚”çš„å°±æ˜¯ä¹°ä¾¿å®œäº†ï¼ˆæ¯•ç«Ÿç©·ï¼‰ï¼ŒDS216Play ä½¿ç”¨çš„æ˜¯ STM STiH412 çš„ 32ä½å¤„ç†å™¨ï¼Œæ—¢ç„¶æ˜¯ 32ä½ï¼Œæ‰€ä»¥ä¸€ä¸ªå¤§æ€å™¨ï¼Docker æ²¡æ³•ç”¨äº†ï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šåŸºäº Docker çš„å¼€ç®±å³ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶æ²¡æ³•ç”¨ã€‚è¿˜æœ‰å°±æ˜¯å†…ç½®çš„ VideoStation æ˜¯ä» IMDb æŠ“å–å°é¢ä¿¡æ¯ï¼Œè€Œ IMDb æ˜¯è¢«å¢™äº†çš„ã€‚äºæ˜¯å‡†å¤‡å®‰è£…ä¸ª SSï¼ˆShadowSocksï¼‰ï¼Œé¡ºä¾¿æŠŠ Dropbox é‡Œé¢å°†è¿‘ 100G æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œä¹‹å‰ä¹°çš„ SSLedge ä¸€ä¸ªæœˆæ‰ 30G æµé‡ï¼Œè¦åŒæ­¥ä¸‰ä¸ªæœˆæ‰èƒ½å®Œå…¨æŠŠ Dropbox ä¸Šé¢æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œè‡ªå»ºçš„ SS ç›´æ¥æ˜¯ 1Tï¼Œç›¸å½“åˆ’ç®—ã€‚
å®‰è£… ipkg å¼€å§‹ä¹‹å‰éœ€è¦å®‰è£… ipkg åŒ…ç®¡ç†å™¨ï¼Œè¿™æ ·åé¢å¾ˆå¤šè½¯ä»¶åŒ…å°±èƒ½ä½¿ç”¨äº†ã€‚å› ä¸ºæ²¡æœ‰æ‰¾åˆ°é€‚åˆ STiH412 å¤„ç†å™¨çš„å®‰è£…è„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹ä¸€ä¸ªç›¸ä¼¼çš„ï¼š
$ wget http://ipkg.nslu2-linux.org/feeds/optware/cs08q1armel/cross/unstable/syno-mvkw-bootstrap_1.2-7_arm.xsh $ chmod 700 syno-mvkw-bootstrap_1.2-7_arm.xsh $ sh syno-mvkw-bootstrap_1.2-7_arm.xsh è¿è¡Œä¹‹åä¼šæŠ¥é”™ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª bootstrap ç›®å½•ï¼Œè¿›å» bootstrap ç›®å½•å¹¶ä¿®æ”¹ bootstrap.sh æ–‡ä»¶
 #if ! grep Feroceon-KW /proc/cpuinfo &gt;/dev/null 2&gt;&amp;1; then # echo &#34;Error: CPU not Marvell Kirkwood, probably wrong bootstrap." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://JesseGuoX.github.io/tinyx/post/NAS-Shadowsocks/" /><meta property="og:image" content="https://JesseGuoX.github.io/tinyx/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2016-05-15T15:33:01&#43;00:00" />
<meta property="article:modified_time" content="2016-05-15T15:33:01&#43;00:00" /><meta property="og:site_name" content="ExampleSite" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://JesseGuoX.github.io/tinyx/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"/>

<meta name="twitter:title" content="Synology DS216Play å®‰è£… ShadowSocks"/>
<meta name="twitter:description" content="æœ€è¿‘ä¸€æ®µæ—¶é—´ä¹°äº†ä¸ª NASï¼Œç”¨äº†ä¹‹åæ„Ÿè§‰ç¡®å®å¾ˆä¸é”™ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¶ç”¨çš„æœåŠ¡å™¨ï¼Œä»€ä¹ˆä¸œè¥¿éƒ½å¯ä»¥å¾€ä¸Šæ‰”ã€‚å”¯ä¸€åæ‚”çš„å°±æ˜¯ä¹°ä¾¿å®œäº†ï¼ˆæ¯•ç«Ÿç©·ï¼‰ï¼ŒDS216Play ä½¿ç”¨çš„æ˜¯ STM STiH412 çš„ 32ä½å¤„ç†å™¨ï¼Œæ—¢ç„¶æ˜¯ 32ä½ï¼Œæ‰€ä»¥ä¸€ä¸ªå¤§æ€å™¨ï¼Docker æ²¡æ³•ç”¨äº†ï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šåŸºäº Docker çš„å¼€ç®±å³ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶æ²¡æ³•ç”¨ã€‚è¿˜æœ‰å°±æ˜¯å†…ç½®çš„ VideoStation æ˜¯ä» IMDb æŠ“å–å°é¢ä¿¡æ¯ï¼Œè€Œ IMDb æ˜¯è¢«å¢™äº†çš„ã€‚äºæ˜¯å‡†å¤‡å®‰è£…ä¸ª SSï¼ˆShadowSocksï¼‰ï¼Œé¡ºä¾¿æŠŠ Dropbox é‡Œé¢å°†è¿‘ 100G æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œä¹‹å‰ä¹°çš„ SSLedge ä¸€ä¸ªæœˆæ‰ 30G æµé‡ï¼Œè¦åŒæ­¥ä¸‰ä¸ªæœˆæ‰èƒ½å®Œå…¨æŠŠ Dropbox ä¸Šé¢æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œè‡ªå»ºçš„ SS ç›´æ¥æ˜¯ 1Tï¼Œç›¸å½“åˆ’ç®—ã€‚
å®‰è£… ipkg å¼€å§‹ä¹‹å‰éœ€è¦å®‰è£… ipkg åŒ…ç®¡ç†å™¨ï¼Œè¿™æ ·åé¢å¾ˆå¤šè½¯ä»¶åŒ…å°±èƒ½ä½¿ç”¨äº†ã€‚å› ä¸ºæ²¡æœ‰æ‰¾åˆ°é€‚åˆ STiH412 å¤„ç†å™¨çš„å®‰è£…è„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹ä¸€ä¸ªç›¸ä¼¼çš„ï¼š
$ wget http://ipkg.nslu2-linux.org/feeds/optware/cs08q1armel/cross/unstable/syno-mvkw-bootstrap_1.2-7_arm.xsh $ chmod 700 syno-mvkw-bootstrap_1.2-7_arm.xsh $ sh syno-mvkw-bootstrap_1.2-7_arm.xsh è¿è¡Œä¹‹åä¼šæŠ¥é”™ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª bootstrap ç›®å½•ï¼Œè¿›å» bootstrap ç›®å½•å¹¶ä¿®æ”¹ bootstrap.sh æ–‡ä»¶
 #if ! grep Feroceon-KW /proc/cpuinfo &gt;/dev/null 2&gt;&amp;1; then # echo &#34;Error: CPU not Marvell Kirkwood, probably wrong bootstrap."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://JesseGuoX.github.io/tinyx/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Synology DS216Play å®‰è£… ShadowSocks",
      "item": "https://JesseGuoX.github.io/tinyx/post/NAS-Shadowsocks/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Synology DS216Play å®‰è£… ShadowSocks",
  "name": "Synology DS216Play å®‰è£… ShadowSocks",
  "description": "æœ€è¿‘ä¸€æ®µæ—¶é—´ä¹°äº†ä¸ª NASï¼Œç”¨äº†ä¹‹åæ„Ÿè§‰ç¡®å®å¾ˆä¸é”™ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¶ç”¨çš„æœåŠ¡å™¨ï¼Œä»€ä¹ˆä¸œè¥¿éƒ½å¯ä»¥å¾€ä¸Šæ‰”ã€‚å”¯ä¸€åæ‚”çš„å°±æ˜¯ä¹°ä¾¿å®œäº†ï¼ˆæ¯•ç«Ÿç©·ï¼‰ï¼ŒDS216Play ä½¿ç”¨çš„æ˜¯ STM STiH412 çš„ 32ä½å¤„ç†å™¨ï¼Œæ—¢ç„¶æ˜¯ 32ä½ï¼Œæ‰€ä»¥ä¸€ä¸ªå¤§æ€å™¨ï¼Docker æ²¡æ³•ç”¨äº†ï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šåŸºäº Docker çš„å¼€ç®±å³ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶æ²¡æ³•ç”¨ã€‚è¿˜æœ‰å°±æ˜¯å†…ç½®çš„ VideoStation æ˜¯ä» IMDb æŠ“å–å°é¢ä¿¡æ¯ï¼Œè€Œ IMDb æ˜¯è¢«å¢™äº†çš„ã€‚äºæ˜¯å‡†å¤‡å®‰è£…ä¸ª SSï¼ˆShadowSocksï¼‰ï¼Œé¡ºä¾¿æŠŠ Dropbox é‡Œé¢å°†è¿‘ 100G æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œä¹‹å‰ä¹°çš„ SSLedge ä¸€ä¸ªæœˆæ‰ 30G æµé‡ï¼Œè¦åŒæ­¥ä¸‰ä¸ªæœˆæ‰èƒ½å®Œå…¨æŠŠ Dropbox ä¸Šé¢æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œè‡ªå»ºçš„ SS ç›´æ¥æ˜¯ 1Tï¼Œç›¸å½“åˆ’ç®—ã€‚\nå®‰è£… ipkg å¼€å§‹ä¹‹å‰éœ€è¦å®‰è£… ipkg åŒ…ç®¡ç†å™¨ï¼Œè¿™æ ·åé¢å¾ˆå¤šè½¯ä»¶åŒ…å°±èƒ½ä½¿ç”¨äº†ã€‚å› ä¸ºæ²¡æœ‰æ‰¾åˆ°é€‚åˆ STiH412 å¤„ç†å™¨çš„å®‰è£…è„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹ä¸€ä¸ªç›¸ä¼¼çš„ï¼š\n$ wget http://ipkg.nslu2-linux.org/feeds/optware/cs08q1armel/cross/unstable/syno-mvkw-bootstrap_1.2-7_arm.xsh $ chmod 700 syno-mvkw-bootstrap_1.2-7_arm.xsh $ sh syno-mvkw-bootstrap_1.2-7_arm.xsh è¿è¡Œä¹‹åä¼šæŠ¥é”™ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª bootstrap ç›®å½•ï¼Œè¿›å» bootstrap ç›®å½•å¹¶ä¿®æ”¹ bootstrap.sh æ–‡ä»¶\n #if ! grep Feroceon-KW /proc/cpuinfo \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then # echo \u0026#34;Error: CPU not Marvell Kirkwood, probably wrong bootstrap.",
  "keywords": [
    "NAS", "GFW"
  ],
  "articleBody": "æœ€è¿‘ä¸€æ®µæ—¶é—´ä¹°äº†ä¸ª NASï¼Œç”¨äº†ä¹‹åæ„Ÿè§‰ç¡®å®å¾ˆä¸é”™ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¶ç”¨çš„æœåŠ¡å™¨ï¼Œä»€ä¹ˆä¸œè¥¿éƒ½å¯ä»¥å¾€ä¸Šæ‰”ã€‚å”¯ä¸€åæ‚”çš„å°±æ˜¯ä¹°ä¾¿å®œäº†ï¼ˆæ¯•ç«Ÿç©·ï¼‰ï¼ŒDS216Play ä½¿ç”¨çš„æ˜¯ STM STiH412 çš„ 32ä½å¤„ç†å™¨ï¼Œæ—¢ç„¶æ˜¯ 32ä½ï¼Œæ‰€ä»¥ä¸€ä¸ªå¤§æ€å™¨ï¼Docker æ²¡æ³•ç”¨äº†ï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šåŸºäº Docker çš„å¼€ç®±å³ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶æ²¡æ³•ç”¨ã€‚è¿˜æœ‰å°±æ˜¯å†…ç½®çš„ VideoStation æ˜¯ä» IMDb æŠ“å–å°é¢ä¿¡æ¯ï¼Œè€Œ IMDb æ˜¯è¢«å¢™äº†çš„ã€‚äºæ˜¯å‡†å¤‡å®‰è£…ä¸ª SSï¼ˆShadowSocksï¼‰ï¼Œé¡ºä¾¿æŠŠ Dropbox é‡Œé¢å°†è¿‘ 100G æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œä¹‹å‰ä¹°çš„ SSLedge ä¸€ä¸ªæœˆæ‰ 30G æµé‡ï¼Œè¦åŒæ­¥ä¸‰ä¸ªæœˆæ‰èƒ½å®Œå…¨æŠŠ Dropbox ä¸Šé¢æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œè‡ªå»ºçš„ SS ç›´æ¥æ˜¯ 1Tï¼Œç›¸å½“åˆ’ç®—ã€‚\nå®‰è£… ipkg å¼€å§‹ä¹‹å‰éœ€è¦å®‰è£… ipkg åŒ…ç®¡ç†å™¨ï¼Œè¿™æ ·åé¢å¾ˆå¤šè½¯ä»¶åŒ…å°±èƒ½ä½¿ç”¨äº†ã€‚å› ä¸ºæ²¡æœ‰æ‰¾åˆ°é€‚åˆ STiH412 å¤„ç†å™¨çš„å®‰è£…è„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹ä¸€ä¸ªç›¸ä¼¼çš„ï¼š\n$ wget http://ipkg.nslu2-linux.org/feeds/optware/cs08q1armel/cross/unstable/syno-mvkw-bootstrap_1.2-7_arm.xsh $ chmod 700 syno-mvkw-bootstrap_1.2-7_arm.xsh $ sh syno-mvkw-bootstrap_1.2-7_arm.xsh è¿è¡Œä¹‹åä¼šæŠ¥é”™ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª bootstrap ç›®å½•ï¼Œè¿›å» bootstrap ç›®å½•å¹¶ä¿®æ”¹ bootstrap.sh æ–‡ä»¶\n #if ! grep Feroceon-KW /proc/cpuinfo /dev/null 2\u00261; then # echo \"Error: CPU not Marvell Kirkwood, probably wrong bootstrap.xsh\" # exit 3 #fi æ‰¾åˆ°ä»¥ä¸Šæ–‡æœ¬åŠ  # æ³¨é‡Šæ‰ä¿å­˜é€€å‡ºï¼Œç„¶åè¿è¡Œï¼š\n ./bootstrap.sh æ¥ç€é‡å¯ NASï¼Œé‡å¯å®Œæˆåæ›´æ–°ä¸€ä¸‹ ipkg update å¦‚æœæ— è¯¯å°±è¯´æ˜å®‰è£…å®Œæˆã€‚\nå®‰è£… SS shadowsocksï¼ˆpythonï¼‰ ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ˜¯ç›´æ¥ç”¨ python ç‰ˆçš„ SSï¼Œè£…ä¸ª Python ç„¶å pip ä¸€ä¸‹å°±èƒ½ç”¨äº†ï¼Œé¦–å…ˆåœ¨ NAS çš„å¥—ä»¶ä¸­å¿ƒé‡Œé¢å®‰è£… python2 å’Œ python 3ï¼Œç„¶åå®‰è£… SSï¼š\nwget https://bootstrap.pypa.io/get-pip.py python get-pip.py pip install shadowsocks å¦‚æœ wget æœ‰é—®é¢˜å¯ä»¥ sudo ipkg remove wget å†å®‰è£… sudo ipkg install wget-ssl æ–°å»ºæˆ–ç¼–è¾‘ shadowsocks.json æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n{ \"server\":\"my_server_ip\", \"server_port\":8388, \"local_address\": \"127.0.0.1\", \"local_port\":1080, \"password\":\"mypassword\", \"timeout\":300, \"method\":\"aes-256-cfb\", \"fast_open\": false } æœ€åæ‰§è¡Œå‘½ä»¤ sslocal -c shadowsocks.json -d start è¿è¡Œã€‚ è¿™ä¸ªæ—¶å€™é—®é¢˜å‡ºç°äº†ï¼Œå³ä½¿æœ‰åº“æ–‡ä»¶ /usr/lib/libcrypto.so è¿è¡Œä¹Ÿä¼šå‡ºç°é”™è¯¯ï¼š\n File \"/usr/lib/python2.7/ctypes/util.py\", line 247, in find_library raise RuntimeError(\"can not find library %s\" % name) RuntimeError: can not find library crypto æ‰¾äº†ä¸€åœˆæ²¡æ‰¾åˆ°ç­”æ¡ˆï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯ SS çš„é—®é¢˜ã€‚æ‰€ä»¥æœæ–­æ¢ æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ C è¯­è¨€ç¼–å†™çš„ shadowsocks-libevã€‚\nshadowsocks-libev å› ä¸ºæ€•æåè‡ªå·±çš„ç”Ÿäº§ç¯å¢ƒï¼Œæ‰€ä»¥ç›´æ¥åœ¨ VPS ä¸Šç¼–è¯‘å¾—äº†ï¼Œä½¿ç”¨çš„æ˜¯ 64bit Ubuntu 14.03ã€‚ å…ˆè¦åœ¨ Synology Open Source Project æ‰¾åˆ° DS216Play çš„äº¤å‰ç¼–è¯‘å·¥å…·ï¼šmonaco-gcc493_glibc220_hard-GPL.txz ç„¶å SSH è¿æ¥ VPS è¿›è¡Œç¼–è¯‘å·¥ä½œ:\napt-get -y install make binutils mkdir ss cd ss wget http://iweb.dl.sourceforge.net/project/dsgpl/DSM%206.0%20Tool%20Chains/STMicroelectronics%20Monaco%20Linux%203.10.77/monaco-gcc493_glibc220_hard-GPL.txz tar xvf monaco-gcc493_glibc220_hard-GPL.txz export PATH=\"/root/ss/arm-unknown-linux-gnueabi/bin:$PATH\" export CC=/root/ss/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-gcc export LD=/root/ss/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-ld export RANLIB=/root/ss/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-ranlib export CFLAGS=\"-I/root/ss/arm-unknown-linux-gnueabi/arm-unknown-linux-gnueabi/include\" export LDFLAGS=\"-L/root/ss/arm-unknown-linux-gnueabi/arm-unknown-linux-gnueabi/lib\" # ä¾èµ–zlibï¼Œä¸‹è½½ç¼–è¯‘ wget http://zlib.net/zlib-1.2.8.tar.gz tar xvf zlib-1.2.8.tar.gz cd zlib-1.2.8/ ./configure --prefix=/root/dist/zlib-1.2.8 make \u0026 make install # ä¾èµ–opensslï¼Œä¸‹è½½ç¼–è¯‘ wget https://www.openssl.org/source/openssl-1.0.2h.tar.gz tar xvf openssl-1.0.2h.tar.gz cd openssl-1.0.2h ./Configure dist --prefix=/root/dist/openssl-1.0.2h make make install # ç¼–è¯‘shadowsocks-libev wget https://github.com/shadowsocks/shadowsocks-libev/archive/v2.4.6.tar.gz tar xvf v2.4.6.tar.gz cd shadowsocks-libev-2.4.6 # é…ç½® éœ€è¦æ³¨æ„çš„æ˜¯--hosté€‰é¡¹ï¼Œç›®æ ‡NASä¸åŒå€¼å¯èƒ½ä¹Ÿä¼šä¸åŒ # è¯¦è§Synologyå¼€å‘æŒ‡å—çš„Compile Open Source Projectsç« èŠ‚ ./configure \\ --with-zlib=/root/dist/zlib-1.2.8 \\ --with-openssl=/root/dist/openssl-1.0.2h \\ --prefix=/root/dist/ss \\ --host=arm-unknown-linux-gnueabi make make install è¿™æ · ss å°±ä¼šç¼–è¯‘åˆ° /root/dist/ss ç›®å½•ï¼Œè¿™ä¸ªæ—¶å€™æ‰“åŒ…:\ntar cvf shadowsocks.tar ss/ å¦å¼€ä¸€ä¸ªæœ¬åœ°ç»ˆç«¯ä» VPS å–å›æ–‡ä»¶ï¼š\nscp xxx@xxx.xxx.xxx.xxx:/root/dist/shadowsocks.tar . è¿è¡Œ éœ€è¦çŸ¥é“çš„æ˜¯ shadowsocks æ˜¯ä¸€ä¸ª socket ä»£ç†ï¼Œè€Œç¾¤æ™– NAS åªæ”¯æŒ HTTP ä»£ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ Privoxyè½¯ä»¶è½¬æ¢ä¸‹ï¼Œå¹¸è¿çš„æ˜¯ ipkg é‡Œé¢åˆšå¥½æœ‰æ­¤è½¯ä»¶åŒ…ã€‚\nsudo ipkg install privoxy æ–°å»º shadowsocks é…ç½®æ–‡ä»¶ config.jsonï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n{ \"server\":\"xxx.xx.xx.xx\", \"server_port\":1984, \"local_port\":16800, \"password\":\"xxxx\", \"method\":\"aes-256-cfb\", \"timeout\":60 } æ–°å»º Privoxy é…ç½®æ–‡ä»¶ privoxy.configï¼š\nlisten-address 127.0.0.1:16801 #ç›‘å¬æœ¬åœ°çš„16801ç«¯å£ forward / . forward-socks5 .dropbox.com 127.0.0.1:16800 . #æŠŠè®¿é—® dropbox çš„æ•°æ®éƒ½é€šè¿‡ss çš„ä»£ç†ç«¯å£è½¬å‘å‡ºå» forward-socks5 .tmdb.org 127.0.0.1:16800 . #æŠŠè®¿é—® tmdb çš„æ•°æ®éƒ½é€šè¿‡ss çš„ä»£ç†ç«¯å£è½¬å‘å‡ºå» #forward-socks5 / 127.0.0.1:16800 . #å…¨éƒ¨è½¬å‘ è¡¨ç¤ºç›‘å¬æœ¬åœ° 16801 çš„ç«¯å£æ•°æ®è½¬å‘åˆ°æœ¬åœ°çš„socks5 16800 ç«¯å£ã€‚è¿™é‡Œåªæœ‰ä¸¤ä¸ªç½‘ç«™çš„æ•°æ®ç»è¿‡ ss ä»£ç†ï¼Œä¸€ä¸ªæ˜¯ Dropbox ï¼Œå¦ä¸€ä¸ªæ˜¯ tmdbï¼ˆVideoStation å°é¢æ•°æ®æŠ“å–ç½‘å€ï¼‰ã€‚å¦‚æœéœ€è¦æ›´å¤šå¯ä»¥ä¸€ä¸ªä¸ªæ·»åŠ è¿›å»æˆ–è€…ä½¿ç”¨ actionfilesã€‚\nåå°è¿è¡Œï¼š\n./ss-local -c config.json \u0026 privoxy privoxy.config ç„¶åè¿› NAS è®¾ç½®ä¸€ä¸‹å°± OK äº†ï¼š ç¼–è¯‘å¥½çš„ shadowsocks æ–‡ä»¶ä¸‹è½½ï¼šDS216Play-Utilityï¼Œä»¥å DS216Play ç›¸å…³çš„è‡ªå·±ç¼–è¯‘çš„å·¥å…·ä¼šæ”¾åœ¨ GitHub ä¸Šã€‚\nè‡ªåŠ¨è¿è¡Œ æœ€åå†™ä¸€æ®µè‡ªåŠ¨è¿è¡Œè„šæœ¬ï¼Œæ”¾åœ¨ NAS çš„ä»»åŠ¡è®¡åˆ’ä¸­ï¼Œè®¾ç½®æ¯äºŒååˆ†é’Ÿè¿è¡Œä¸€ä¸‹ï¼Œå› ä¸ºå‘ç°ä¸¤ä¸ªè¿›ç¨‹ä¼šæœ‰æ„å¤–é€€å‡ºçš„æƒ…å†µï¼Œè¿˜æ²¡æ‰¾åŸå› ï¼š\n#!/bin/sh echo \"Please run it with source command!\" i1=`ps -ef | grep -E \"ss-local*\"|grep -v grep|awk '{print $2}'` if (kill -9 $i1) then { \techo 'ss killed' } else { \techo 'no ss found!' } fi ~/Software/ShadowSocks/bin/ss-local -c ~/Software/ShadowSocks/bin/config.json \u0026 echo \"ss lunched!\"  i2=`ps -ef | grep -E \"privoxy*\"|grep -v grep|awk '{print $2}'` if (kill -9 $i2) then { \techo 'privoxy killed' } else { \techo 'no privoxy found!' } fi privoxy ~/Software/ShadowSocks/privoxy.config echo \"privoxy lunched!\" å‚è€ƒ  åœ¨Synologyç¾¤æ™–NASä¸Šä½¿ç”¨shadowsocks-libevã€polipo   ",
  "wordCount" : "468",
  "inLanguage": "en",
  "datePublished": "2016-05-15T15:33:01Z",
  "dateModified": "2016-05-15T15:33:01Z",
  "author":{
    "@type": "Person",
    "name": "X"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://JesseGuoX.github.io/tinyx/post/NAS-Shadowsocks/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "TinyX",
    "logo": {
      "@type": "ImageObject",
      "url": "https://JesseGuoX.github.io/tinyx/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://JesseGuoX.github.io/tinyx" accesskey="h" title="TinyX ğŸ‘¾ (Alt + H)">TinyX ğŸ‘¾</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://JesseGuoX.github.io/tinyx/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://JesseGuoX.github.io/tinyx/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://JesseGuoX.github.io/tinyx/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://JesseGuoX.github.io/tinyx/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://JesseGuoX.github.io/tinyx">Home</a>&nbsp;Â»&nbsp;<a href="https://JesseGuoX.github.io/tinyx/post/">Posts</a></div>
    <h1 class="post-title">
      Synology DS216Play å®‰è£… ShadowSocks
    </h1>
    <div class="post-meta"><span title='2016-05-15 15:33:01 +0000 UTC'>May 15, 2016</span>&nbsp;Â·&nbsp;X

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-ipkg" aria-label="å®‰è£… ipkg">å®‰è£… ipkg</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-ss" aria-label="å®‰è£… SS">å®‰è£… SS</a><ul>
                        
                <li>
                    <a href="#shadowsockspython" aria-label="shadowsocksï¼ˆpythonï¼‰">shadowsocksï¼ˆpythonï¼‰</a></li>
                <li>
                    <a href="#shadowsocks-libev" aria-label="shadowsocks-libev">shadowsocks-libev</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%bf%90%e8%a1%8c" aria-label="è¿è¡Œ">è¿è¡Œ</a></li>
                <li>
                    <a href="#%e8%87%aa%e5%8a%a8%e8%bf%90%e8%a1%8c" aria-label="è‡ªåŠ¨è¿è¡Œ">è‡ªåŠ¨è¿è¡Œ</a></li>
                <li>
                    <a href="#%e5%8f%82%e8%80%83" aria-label="å‚è€ƒ">å‚è€ƒ</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>æœ€è¿‘ä¸€æ®µæ—¶é—´ä¹°äº†ä¸ª NASï¼Œç”¨äº†ä¹‹åæ„Ÿè§‰ç¡®å®å¾ˆä¸é”™ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¶ç”¨çš„æœåŠ¡å™¨ï¼Œä»€ä¹ˆä¸œè¥¿éƒ½å¯ä»¥å¾€ä¸Šæ‰”ã€‚å”¯ä¸€åæ‚”çš„å°±æ˜¯ä¹°ä¾¿å®œäº†ï¼ˆæ¯•ç«Ÿç©·ï¼‰ï¼ŒDS216Play ä½¿ç”¨çš„æ˜¯ STM STiH412 çš„ 32ä½å¤„ç†å™¨ï¼Œæ—¢ç„¶æ˜¯ 32ä½ï¼Œæ‰€ä»¥ä¸€ä¸ªå¤§æ€å™¨ï¼Docker æ²¡æ³•ç”¨äº†ï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šåŸºäº Docker çš„å¼€ç®±å³ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶æ²¡æ³•ç”¨ã€‚è¿˜æœ‰å°±æ˜¯å†…ç½®çš„ VideoStation æ˜¯ä» IMDb æŠ“å–å°é¢ä¿¡æ¯ï¼Œè€Œ IMDb æ˜¯è¢«å¢™äº†çš„ã€‚äºæ˜¯å‡†å¤‡å®‰è£…ä¸ª SSï¼ˆShadowSocksï¼‰ï¼Œé¡ºä¾¿æŠŠ Dropbox é‡Œé¢å°†è¿‘ 100G æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œä¹‹å‰ä¹°çš„ SSLedge ä¸€ä¸ªæœˆæ‰ 30G æµé‡ï¼Œè¦åŒæ­¥ä¸‰ä¸ªæœˆæ‰èƒ½å®Œå…¨æŠŠ Dropbox ä¸Šé¢æ–‡ä»¶åŒæ­¥å›æ¥ï¼Œè‡ªå»ºçš„ SS ç›´æ¥æ˜¯ 1Tï¼Œç›¸å½“åˆ’ç®—ã€‚</p>
<!-- raw HTML omitted -->
<h2 id="å®‰è£…-ipkg">å®‰è£… ipkg<a hidden class="anchor" aria-hidden="true" href="#å®‰è£…-ipkg">#</a></h2>
<p>å¼€å§‹ä¹‹å‰éœ€è¦å®‰è£… ipkg  åŒ…ç®¡ç†å™¨ï¼Œè¿™æ ·åé¢å¾ˆå¤šè½¯ä»¶åŒ…å°±èƒ½ä½¿ç”¨äº†ã€‚å› ä¸ºæ²¡æœ‰æ‰¾åˆ°é€‚åˆ STiH412 å¤„ç†å™¨çš„å®‰è£…è„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹ä¸€ä¸ªç›¸ä¼¼çš„ï¼š</p>
<pre tabindex="0"><code>$  wget http://ipkg.nslu2-linux.org/feeds/optware/cs08q1armel/cross/unstable/syno-mvkw-bootstrap_1.2-7_arm.xsh
$ chmod 700 syno-mvkw-bootstrap_1.2-7_arm.xsh
$ sh syno-mvkw-bootstrap_1.2-7_arm.xsh
</code></pre><p>è¿è¡Œä¹‹åä¼šæŠ¥é”™ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª bootstrap ç›®å½•ï¼Œè¿›å» bootstrap ç›®å½•å¹¶ä¿®æ”¹ bootstrap.sh æ–‡ä»¶</p>
<pre tabindex="0"><code>      #if ! grep Feroceon-KW /proc/cpuinfo &gt;/dev/null 2&gt;&amp;1; then      
      #    echo &#34;Error: CPU not Marvell Kirkwood, probably wrong bootstrap.xsh&#34;
      #    exit 3
      #fi
</code></pre><p>æ‰¾åˆ°ä»¥ä¸Šæ–‡æœ¬åŠ  # æ³¨é‡Šæ‰ä¿å­˜é€€å‡ºï¼Œç„¶åè¿è¡Œï¼š</p>
<pre tabindex="0"><code>   ./bootstrap.sh
</code></pre><p>æ¥ç€é‡å¯ NASï¼Œé‡å¯å®Œæˆåæ›´æ–°ä¸€ä¸‹ <code>ipkg update</code> å¦‚æœæ— è¯¯å°±è¯´æ˜å®‰è£…å®Œæˆã€‚</p>
<h2 id="å®‰è£…-ss">å®‰è£… SS<a hidden class="anchor" aria-hidden="true" href="#å®‰è£…-ss">#</a></h2>
<h3 id="shadowsockspython">shadowsocksï¼ˆpythonï¼‰<a hidden class="anchor" aria-hidden="true" href="#shadowsockspython">#</a></h3>
<p>ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ˜¯ç›´æ¥ç”¨ python ç‰ˆçš„ SSï¼Œè£…ä¸ª Python ç„¶å pip ä¸€ä¸‹å°±èƒ½ç”¨äº†ï¼Œé¦–å…ˆåœ¨ NAS çš„å¥—ä»¶ä¸­å¿ƒé‡Œé¢å®‰è£… python2 å’Œ python 3ï¼Œç„¶åå®‰è£… SSï¼š</p>
<pre tabindex="0"><code>wget https://bootstrap.pypa.io/get-pip.py
python get-pip.py
pip install shadowsocks
</code></pre><p>å¦‚æœ wget æœ‰é—®é¢˜å¯ä»¥ <code>sudo ipkg remove wget</code> å†å®‰è£… <code>sudo ipkg install wget-ssl</code>
æ–°å»ºæˆ–ç¼–è¾‘ shadowsocks.json æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>{
&#34;server&#34;:&#34;my_server_ip&#34;, 
&#34;server_port&#34;:8388, 
&#34;local_address&#34;: &#34;127.0.0.1&#34;, 
&#34;local_port&#34;:1080,
&#34;password&#34;:&#34;mypassword&#34;,
&#34;timeout&#34;:300,
&#34;method&#34;:&#34;aes-256-cfb&#34;, 
&#34;fast_open&#34;: false
}
</code></pre><p>æœ€åæ‰§è¡Œå‘½ä»¤ <code>sslocal -c shadowsocks.json -d start</code> è¿è¡Œã€‚
è¿™ä¸ªæ—¶å€™é—®é¢˜å‡ºç°äº†ï¼Œå³ä½¿æœ‰åº“æ–‡ä»¶ <code>/usr/lib/libcrypto.so</code> è¿è¡Œä¹Ÿä¼šå‡ºç°é”™è¯¯ï¼š</p>
<pre tabindex="0"><code>  File &#34;/usr/lib/python2.7/ctypes/util.py&#34;, line 247, in find_library
    raise RuntimeError(&#34;can not find library %s&#34; % name)
RuntimeError: can not find library crypto
</code></pre><p>æ‰¾äº†ä¸€åœˆæ²¡æ‰¾åˆ°ç­”æ¡ˆï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯ SS çš„é—®é¢˜ã€‚æ‰€ä»¥æœæ–­æ¢ æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ C è¯­è¨€ç¼–å†™çš„ shadowsocks-libevã€‚</p>
<h3 id="shadowsocks-libev">shadowsocks-libev<a hidden class="anchor" aria-hidden="true" href="#shadowsocks-libev">#</a></h3>
<p>å› ä¸ºæ€•æåè‡ªå·±çš„ç”Ÿäº§ç¯å¢ƒï¼Œæ‰€ä»¥ç›´æ¥åœ¨ VPS ä¸Šç¼–è¯‘å¾—äº†ï¼Œä½¿ç”¨çš„æ˜¯ 64bit Ubuntu 14.03ã€‚
å…ˆè¦åœ¨ <a href="https://sourceforge.net/projects/dsgpl/files/">Synology Open Source Project</a> æ‰¾åˆ° DS216Play çš„äº¤å‰ç¼–è¯‘å·¥å…·ï¼šmonaco-gcc493_glibc220_hard-GPL.txz
ç„¶å SSH è¿æ¥ VPS è¿›è¡Œç¼–è¯‘å·¥ä½œ:</p>
<pre tabindex="0"><code>apt-get -y install make binutils
mkdir ss
cd ss
wget http://iweb.dl.sourceforge.net/project/dsgpl/DSM%206.0%20Tool%20Chains/STMicroelectronics%20Monaco%20Linux%203.10.77/monaco-gcc493_glibc220_hard-GPL.txz
tar xvf monaco-gcc493_glibc220_hard-GPL.txz
export PATH=&#34;/root/ss/arm-unknown-linux-gnueabi/bin:$PATH&#34;
export CC=/root/ss/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-gcc
export LD=/root/ss/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-ld
export RANLIB=/root/ss/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-ranlib
export CFLAGS=&#34;-I/root/ss/arm-unknown-linux-gnueabi/arm-unknown-linux-gnueabi/include&#34;
export LDFLAGS=&#34;-L/root/ss/arm-unknown-linux-gnueabi/arm-unknown-linux-gnueabi/lib&#34;

# ä¾èµ–zlibï¼Œä¸‹è½½ç¼–è¯‘
wget http://zlib.net/zlib-1.2.8.tar.gz
tar xvf zlib-1.2.8.tar.gz
cd zlib-1.2.8/
./configure --prefix=/root/dist/zlib-1.2.8
make &amp; make install

# ä¾èµ–opensslï¼Œä¸‹è½½ç¼–è¯‘
wget https://www.openssl.org/source/openssl-1.0.2h.tar.gz
tar xvf openssl-1.0.2h.tar.gz
cd openssl-1.0.2h
./Configure dist --prefix=/root/dist/openssl-1.0.2h
make
make install

# ç¼–è¯‘shadowsocks-libev
wget https://github.com/shadowsocks/shadowsocks-libev/archive/v2.4.6.tar.gz
tar xvf v2.4.6.tar.gz
cd shadowsocks-libev-2.4.6
# é…ç½® éœ€è¦æ³¨æ„çš„æ˜¯--hosté€‰é¡¹ï¼Œç›®æ ‡NASä¸åŒå€¼å¯èƒ½ä¹Ÿä¼šä¸åŒ
# è¯¦è§Synologyå¼€å‘æŒ‡å—çš„Compile Open Source Projectsç« èŠ‚
./configure \
    --with-zlib=/root/dist/zlib-1.2.8 \
    --with-openssl=/root/dist/openssl-1.0.2h \
    --prefix=/root/dist/ss \
    --host=arm-unknown-linux-gnueabi
make
make install
</code></pre><p>è¿™æ · ss å°±ä¼šç¼–è¯‘åˆ° <code>/root/dist/ss</code> ç›®å½•ï¼Œè¿™ä¸ªæ—¶å€™æ‰“åŒ…:</p>
<pre tabindex="0"><code>tar cvf shadowsocks.tar ss/
</code></pre><p>å¦å¼€ä¸€ä¸ªæœ¬åœ°ç»ˆç«¯ä» VPS å–å›æ–‡ä»¶ï¼š</p>
<pre tabindex="0"><code>scp xxx@xxx.xxx.xxx.xxx:/root/dist/shadowsocks.tar .
</code></pre><h2 id="è¿è¡Œ">è¿è¡Œ<a hidden class="anchor" aria-hidden="true" href="#è¿è¡Œ">#</a></h2>
<p>éœ€è¦çŸ¥é“çš„æ˜¯ shadowsocks æ˜¯ä¸€ä¸ª socket ä»£ç†ï¼Œè€Œç¾¤æ™– NAS åªæ”¯æŒ HTTP ä»£ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ Privoxyè½¯ä»¶è½¬æ¢ä¸‹ï¼Œå¹¸è¿çš„æ˜¯ ipkg é‡Œé¢åˆšå¥½æœ‰æ­¤è½¯ä»¶åŒ…ã€‚</p>
<pre tabindex="0"><code>sudo ipkg install privoxy
</code></pre><p>æ–°å»º shadowsocks é…ç½®æ–‡ä»¶ config.jsonï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>{
 &#34;server&#34;:&#34;xxx.xx.xx.xx&#34;,
 &#34;server_port&#34;:1984,
 &#34;local_port&#34;:16800,
 &#34;password&#34;:&#34;xxxx&#34;,
 &#34;method&#34;:&#34;aes-256-cfb&#34;,
 &#34;timeout&#34;:60
}
</code></pre><p>æ–°å»º Privoxy é…ç½®æ–‡ä»¶ privoxy.configï¼š</p>
<pre tabindex="0"><code>listen-address 127.0.0.1:16801  #ç›‘å¬æœ¬åœ°çš„16801ç«¯å£
forward / .
forward-socks5 .dropbox.com 127.0.0.1:16800 . #æŠŠè®¿é—® dropbox çš„æ•°æ®éƒ½é€šè¿‡ss çš„ä»£ç†ç«¯å£è½¬å‘å‡ºå»
forward-socks5 .tmdb.org 127.0.0.1:16800 .  #æŠŠè®¿é—® tmdb çš„æ•°æ®éƒ½é€šè¿‡ss çš„ä»£ç†ç«¯å£è½¬å‘å‡ºå»
#forward-socks5 / 127.0.0.1:16800 . #å…¨éƒ¨è½¬å‘
</code></pre><p>è¡¨ç¤ºç›‘å¬æœ¬åœ° 16801 çš„ç«¯å£æ•°æ®è½¬å‘åˆ°æœ¬åœ°çš„socks5 16800 ç«¯å£ã€‚è¿™é‡Œåªæœ‰ä¸¤ä¸ªç½‘ç«™çš„æ•°æ®ç»è¿‡ ss ä»£ç†ï¼Œä¸€ä¸ªæ˜¯ Dropbox ï¼Œå¦ä¸€ä¸ªæ˜¯ tmdbï¼ˆVideoStation å°é¢æ•°æ®æŠ“å–ç½‘å€ï¼‰ã€‚å¦‚æœéœ€è¦æ›´å¤šå¯ä»¥ä¸€ä¸ªä¸ªæ·»åŠ è¿›å»æˆ–è€…ä½¿ç”¨ <code>actionfiles</code>ã€‚</p>
<p>åå°è¿è¡Œï¼š</p>
<pre tabindex="0"><code>./ss-local -c config.json &amp; 
privoxy privoxy.config
</code></pre><p>ç„¶åè¿› NAS è®¾ç½®ä¸€ä¸‹å°± OK äº†ï¼š
<img loading="lazy" src="SynologyDiskStation.png" alt="P1"  />
</p>
<p>ç¼–è¯‘å¥½çš„ shadowsocks æ–‡ä»¶ä¸‹è½½ï¼š<a href="https://github.com/Jexbat/DS216Play-Utility">DS216Play-Utility</a>ï¼Œä»¥å DS216Play ç›¸å…³çš„è‡ªå·±ç¼–è¯‘çš„å·¥å…·ä¼šæ”¾åœ¨ GitHub ä¸Šã€‚</p>
<h2 id="è‡ªåŠ¨è¿è¡Œ">è‡ªåŠ¨è¿è¡Œ<a hidden class="anchor" aria-hidden="true" href="#è‡ªåŠ¨è¿è¡Œ">#</a></h2>
<p>æœ€åå†™ä¸€æ®µè‡ªåŠ¨è¿è¡Œè„šæœ¬ï¼Œæ”¾åœ¨ NAS çš„ä»»åŠ¡è®¡åˆ’ä¸­ï¼Œè®¾ç½®æ¯äºŒååˆ†é’Ÿè¿è¡Œä¸€ä¸‹ï¼Œå› ä¸ºå‘ç°ä¸¤ä¸ªè¿›ç¨‹ä¼šæœ‰æ„å¤–é€€å‡ºçš„æƒ…å†µï¼Œè¿˜æ²¡æ‰¾åŸå› ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-run2.sh" data-lang="run2.sh"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/sh
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>echo <span style="color:#e6db74">&#34;Please run it with source command!&#34;</span>
</span></span><span style="display:flex;"><span>i1<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>ps -ef | grep -E <span style="color:#e6db74">&#34;ss-local*&#34;</span>|grep -v grep|awk <span style="color:#e6db74">&#39;{print $2}&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>kill -9 $i1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">&#39;ss killed&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">&#39;no ss found!&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>~/Software/ShadowSocks/bin/ss-local -c ~/Software/ShadowSocks/bin/config.json &amp;
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;ss lunched!&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>i2<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>ps -ef | grep -E <span style="color:#e6db74">&#34;privoxy*&#34;</span>|grep -v grep|awk <span style="color:#e6db74">&#39;{print $2}&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>kill -9 $i2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">&#39;privoxy killed&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">&#39;no privoxy found!&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>privoxy ~/Software/ShadowSocks/privoxy.config
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;privoxy lunched!&#34;</span>
</span></span></code></pre></div><h2 id="å‚è€ƒ">å‚è€ƒ<a hidden class="anchor" aria-hidden="true" href="#å‚è€ƒ">#</a></h2>
<ul>
<li><a href="http://jeeker.net/article/compile-shadowsocks-libev-for-synology-nas-dsm/#more-31497">åœ¨Synologyç¾¤æ™–NASä¸Šä½¿ç”¨shadowsocks-libevã€polipo</a></li>
</ul>
<hr>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://JesseGuoX.github.io/tinyx/tags/NAS/">NAS</a></li>
      <li><a href="https://JesseGuoX.github.io/tinyx/tags/GFW/">GFW</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://JesseGuoX.github.io/tinyx/post/BBB-Prepare-booting/">
    <span class="title">Next Page Â»</span>
    <br>
    <span>BeagleBone Black ä»é›¶åˆ°ä¸€ (3 Linux é•œåƒã€initramfsã€Device TreeåŠæ ¹æ–‡ä»¶ç³»ç»Ÿ)</span>
  </a>
</nav>

  </footer><div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script>
  const gitalk = new Gitalk({
    clientID: '',
    clientSecret: '',
    repo: '',
    owner: '',
    admin: [''],
    id: location.pathname, 
    distractionFreeMode: false 
  });
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
      return;
    }
    gitalk.render('gitalk-container');
  })();
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://JesseGuoX.github.io/tinyx">TinyX</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
